<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Frontend Code Camp Quiz Result</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">

  <link rel="stylesheet" href="assets/css/style.css">

  <link href="https://fonts.googleapis.com/css?family=Handlee" rel="stylesheet">


<body>

<div class="quiz-container text-center">
  <h1>Frontend Code Camp Quiz Result</h1>

  <h2 class="timer">
    <span class="cd-min">10</span>:
    <span class="cd-sec">00</span>
  </h2>

  <div class="result-container">
    <h2>Level: Beginner level 1</h2>
    <table>
      <thead>
      <tr>
        <th>Email address</th>
        <th>Question reply correctly</th>
        <th>Time</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>example@info.fr</td>
        <td>3</td>
        <td>15 mins</td>
      </tr>
      </tbody>
    </table>
  </div>
  
  <!--<div class="result-container">-->
    <!--<h2>Level: Beginner level 2</h2>-->
    <!--<table>-->
      <!--<thead>-->
      <!--<tr>-->
        <!--<th>Email address</th>-->
        <!--<th>Question reply correctly</th>-->
        <!--<th>Time</th>-->
      <!--</tr>-->
      <!--</thead>-->
      <!--<tbody>-->
      <!--<tr>-->
        <!--<td>example@info2.co.uk</td>-->
        <!--<td>10</td>-->
        <!--<td>15 mins</td>-->
      <!--</tr>-->
      <!--</tbody>-->
    <!--</table>-->
  <!--</div>-->
</div>
<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script>
var ws = new WebSocket("ws:/ws-devcon.cf:1995");

ws.onopen = function(){
  console.log("connected!");
  var obj = {'type':'fetch-results', 'payload':'completed'};
  ws.send(JSON.stringify(obj));
}

ws.onmessage = function(e){
    var obj = JSON.parse(e.data);
    console.log(obj); // we've got the json here
}

function countdown(){
  var mins = parseInt($('.cd-min').html());
  var secs = parseInt($('.cd-sec').html());
  if (secs==0 && mins!=0){
    secs=59;
    mins--;
  } else if (secs!=0){
    secs--;
  } else if (secs==0 && mins!=0) {
    alert('countdown over!');
    window.clearInterval(countdowninterval);
    
  }

  $('.cd-min').html((mins >= 10) ? mins : '0'+mins);
  $('.cd-sec').html((secs >= 10) ? secs : '0'+secs);

}

countdowninterval = window.setInterval(countdown,1000);
</script>
</body>
</html>